<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Multithreading</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="64c68f21-5d6c-4970-a72a-4aa44ac2107f" class="page sans"><header><h1 class="page-title">Multithreading</h1></header><div class="page-body"><nav id="2d84badd-2a7b-44b0-89ee-7da0322c7d83" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3207c516-95c0-4d42-8d02-ca6b9587afa6">Introduction</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#2445cd63-1d08-4de5-9bea-a8b2328b29fb">Thread Class and Runnable Interface</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3dee22f1-a183-4f3b-b3c9-0c47af45d9db">Main thread</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#1101bf59-07a7-47c5-9fd1-e3747a5d13aa">Creating a Thread</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c2f42bfd-6d14-41d5-97f8-169b32b35257">Thread Priorities</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#6f511d12-e506-401a-a77f-d81cbab727df">Synchronization</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#cc4d942e-4a9e-4ade-8efe-754713e958d7">Interthread Communication</a></div></nav><h3 id="3207c516-95c0-4d42-8d02-ca6b9587afa6" class="">Introduction</h3><ul id="10e447bb-73bc-4c8b-8c05-05ce63686e5c" class="bulleted-list"><li style="list-style-type:disc"><a href="https://www.mendix.com/blog/asynchronous-vs-synchronous-programming/#:~:text=The%20differences%20between%20asynchronous%20and,multiple%20requests%20to%20a%20server.">Explained: Asynchronous vs. Synchronous Programming (mendix.com)</a></li></ul><ul id="7d060121-2c3d-40f7-956d-413e6135a8fe" class="bulleted-list"><li style="list-style-type:disc">A multithreaded program contains two or more parts that can run concurrently</li></ul><ul id="c4ef2523-ba7a-452c-b937-20efd5102c7c" class="bulleted-list"><li style="list-style-type:disc">Each part of such a program is a thread and each thread defines a separate path for execution</li></ul><ul id="27974bc3-44d9-4064-98d8-c077c0dc1372" class="bulleted-list"><li style="list-style-type:disc">Process based multitasking is where you computer runs 2 or more programs concurrently</li></ul><ul id="8ceab0c7-7394-40c2-8ae5-d68a4769e469" class="bulleted-list"><li style="list-style-type:disc">In thread based multitasking, thread is the smallest unit of dispatchable code</li></ul><figure id="ecb03eaf-268b-4589-aa73-e7d00e407679" class="image"><a href="Multithreading%2064c68f215d6c4970a72a4aa44ac2107f/Untitled.png"><img style="width:1612px" src="Multithreading%2064c68f215d6c4970a72a4aa44ac2107f/Untitled.png"/></a></figure><ul id="bb3296a5-b80b-43e5-b33b-d58e84fb8123" class="bulleted-list"><li style="list-style-type:disc">Java uses threads to ensure that the entire code is asynchronous in nature</li></ul><ul id="55095630-e101-43c6-bb7b-5c2bedf4e887" class="bulleted-list"><li style="list-style-type:disc">Single threaded systems use event loop with polling. In this model, a single thread of control runs in an infinite loop polling a single event queue deciding what to do next</li></ul><ul id="f510a3c7-b7e0-413c-b589-ccb6c4f38d85" class="bulleted-list"><li style="list-style-type:disc">Once the polling mechanism returns with say a signal that a network file is ready to be read, then the event loop dispatches the control to the handler</li></ul><ul id="30ba9d54-d192-4e7d-a09d-e0e7b2a26219" class="bulleted-list"><li style="list-style-type:disc">But until this event handler returns, nothing else can happen i.e. single threaded systems are blocking in nature</li></ul><ul id="a2cde308-ef3c-4c48-899c-4f3824da6c2f" class="bulleted-list"><li style="list-style-type:disc">In multithreading, that is not the case, the main loop/polling mechanism is eliminated. One thread can pause without stopping other parts of the program</li></ul><ul id="53bd6953-34ed-48e6-b4ed-3440ded41aa6" class="bulleted-list"><li style="list-style-type:disc">When a thread blocks in the java program the whole system gets paused</li></ul><ul id="1e94d27b-e7fb-4237-87bb-028051367e3f" class="bulleted-list"><li style="list-style-type:disc">A thread can have multiple states:<ul id="6c651060-aaf4-434f-9446-eb08b6b85f33" class="bulleted-list"><li style="list-style-type:circle">Suspended</li></ul><ul id="296ce9c8-6e72-4d11-a45d-29b2da550733" class="bulleted-list"><li style="list-style-type:circle">Resumed</li></ul><ul id="6c9f32f0-ba9c-4c9c-92e0-e2ee590eaf86" class="bulleted-list"><li style="list-style-type:circle">Blocked</li></ul><ul id="4c4ffcc1-2dfe-44de-80b3-38b4fd7a7e5e" class="bulleted-list"><li style="list-style-type:circle">Terminated</li></ul></li></ul><ul id="9515c7dd-5eb6-490c-9a82-73adfe3421ce" class="bulleted-list"><li style="list-style-type:disc">Java assigns each thread a priority that determines how that thread should be treated wrt others</li></ul><ul id="02a30fea-d746-46b1-a951-9ce3e5bc8aa1" class="bulleted-list"><li style="list-style-type:disc">These priorities are mostly integers that specify relative priority of one thread to another</li></ul><ul id="9eee55c1-0c46-487a-b907-178333149294" class="bulleted-list"><li style="list-style-type:disc">A thread’s priority is used to decide when to switch from one running thread to another. This is called a context switch</li></ul><figure id="bd3ab947-0c07-4329-a78c-15e18a8cd7f3" class="image"><a href="Multithreading%2064c68f215d6c4970a72a4aa44ac2107f/Untitled%201.png"><img style="width:1141px" src="Multithreading%2064c68f215d6c4970a72a4aa44ac2107f/Untitled%201.png"/></a></figure><h3 id="2445cd63-1d08-4de5-9bea-a8b2328b29fb" class="">Thread Class and Runnable Interface</h3><ul id="02f5d41f-ecd2-486f-9fa5-68d85d7996ed" class="bulleted-list"><li style="list-style-type:disc">To create a new thread, we <strong>extend the </strong><mark class="highlight-red"><strong>Thread class</strong></mark> or <mark class="highlight-red"><strong>implement the Runnable</strong></mark> Interface</li></ul><ul id="2dc96597-df04-43f1-b21f-8801aaac13c6" class="bulleted-list"><li style="list-style-type:disc">Thread has many methods<ul id="8cf70652-dd9f-4de5-a638-996f6a068a7c" class="bulleted-list"><li style="list-style-type:circle">getName → Obtain name of a thread</li></ul><ul id="409b2c4c-83b4-47c9-aefd-06d393f46800" class="bulleted-list"><li style="list-style-type:circle">getPriority → Obtain priority of a thread</li></ul><ul id="047de3ee-4a8c-4625-9b84-10edef60c7a1" class="bulleted-list"><li style="list-style-type:circle">isAlive → Determine if a thread is still running</li></ul><ul id="be21a490-08a6-47fe-9327-1bb6a7fa16ab" class="bulleted-list"><li style="list-style-type:circle">join → wait for a thread to terminate</li></ul><ul id="6f675df0-0345-466f-b450-27d1af074351" class="bulleted-list"><li style="list-style-type:circle">run → Entry point for a thread</li></ul><ul id="4406ab35-6bc8-4868-962e-a73c3f4ead76" class="bulleted-list"><li style="list-style-type:circle">sleep → suspend a thread for a point of time</li></ul><ul id="c92a5e5f-79ff-4813-a039-3655f4bcecfc" class="bulleted-list"><li style="list-style-type:circle">start → start a thread</li></ul></li></ul><h3 id="3dee22f1-a183-4f3b-b3c9-0c47af45d9db" class="">Main thread</h3><ul id="e3a1fca0-2a0f-40cd-b0d3-703f7bf816e6" class="bulleted-list"><li style="list-style-type:disc">This is the very first thread that starts</li></ul><ul id="7391a52a-f780-46c2-aa2a-4faba0a5f7da" class="bulleted-list"><li style="list-style-type:disc">It is the thread from which other threads spawn</li></ul><ul id="0588c958-6fd2-4754-90d6-81e4d00436d3" class="bulleted-list"><li style="list-style-type:disc">This will be the last thread to finish execution because it performs various shutdown operations</li></ul><ul id="5ea6097c-cdf0-4305-bd11-b861a0e39d43" class="bulleted-list"><li style="list-style-type:disc">To get access to this thread, we call the <code>currentThread()</code></li></ul><ul id="66ba08c7-916b-44f0-a58e-83d7fe2c489e" class="bulleted-list"><li style="list-style-type:disc">When we print the thread it prints [name, priority, parent]</li></ul><ul id="bd508f0d-8945-4d4b-a85a-65f99a5bf056" class="bulleted-list"><li style="list-style-type:disc">Default priority is 5</li></ul><p id="340c7de1-6bdd-44d7-9d49-8e71ee8f6105" class="">
</p><pre id="6b4fa22d-64fc-4c3f-957d-1efec61c0f50" class="code"><code>public class Threads {
    public static void main(String args[]) {
        Thread t = Thread.currentThread();
        System.out.println(&quot;Initial: &quot; + t);
        t.setName(&quot;Donut&quot;);
        System.out.println(&quot;Initial: &quot; + t);

        try {
            for (int n = 5; n &gt; 0; n--) {
                System.out.println(n);
                Thread.sleep(1000);
            }
        } catch (InterruptedException e) {
            System.out.println(&quot;Interrupted&quot;);
        }

    }
}</code></pre><h3 id="1101bf59-07a7-47c5-9fd1-e3747a5d13aa" class="">Creating a Thread</h3><ul id="717a1570-1126-403c-8456-4e431cb0291d" class="bulleted-list"><li style="list-style-type:disc">You can create a thread by instantiating a new Thread Object</li></ul><ul id="19cf9430-4161-42d6-84c8-caaafe3c44ea" class="bulleted-list"><li style="list-style-type:disc">Two ways: Runnable Interface and the Thread Class</li></ul><ul id="725928ce-7344-41b6-9f51-b588b49250d7" class="bulleted-list"><li style="list-style-type:disc">We create a new thread by using <code>new Thread(Runnable r, String name)</code></li></ul><ul id="bc583ced-933b-43cb-8dd4-0b24489b177d" class="bulleted-list"><li style="list-style-type:disc">Or <code>new Thread(String name)</code></li></ul><ul id="02bfdab6-c90e-4198-bfc3-c388029e6aa3" class="bulleted-list"><li style="list-style-type:disc">Every Runnable abstracts a method <code>public void run()</code></li></ul><pre id="668dfa74-8f79-4cae-88ee-670dda0a9e5d" class="code"><code>class NewThread implements Runnable{
		Thread t;
    NewThread(){
        t = new Thread(this, &quot;New Thread&quot;);
        System.out.println(&quot;Child Thread: &quot; + t);
    }

    public void run(){
        try{
            for(int i=0; i&lt;9; i++){
                System.out.println(&quot;Child Thread: &quot; + i);
                Thread.sleep(1000);
            }
        } catch (InterruptedException e){
            System.out.println(&quot;Child Interrupted&quot;);
        }
        System.out.println(&quot;Exiting Child Thread&quot;);
    }
}

public class Threads2 {
    public static void main(String args[]){
        NewThread nt = new NewThread();

        nt.t.start();

        try{
            for(int i=0; i&lt;5; i++){
                System.out.println(&quot;Main Thread: &quot; + i);
                Thread.sleep(1000);
            }
        } catch (InterruptedException e){
            System.out.println(&quot;Main thread interrupted&quot;);
        }
        System.out.println(&quot;Exiting main loop&quot;);
   }
}</code></pre><ul id="8b95fad2-445c-49e2-9096-55aae8a61fa2" class="bulleted-list"><li style="list-style-type:disc">We can use the Thread class also but this prevents us from inheriting another class, so we prefer to use Runnable implementations</li></ul><ul id="c1d7379d-ebd5-492b-9cca-d533b3fcd830" class="bulleted-list"><li style="list-style-type:disc">In these cases, we don’t really wait for a thread to be done and this might cause issues</li></ul><ul id="da2dbd9e-d18d-4bd1-937d-e9ba17d71a80" class="bulleted-list"><li style="list-style-type:disc">We have <code>final boolean isAlive()</code> which returns true if the thread is still running</li></ul><ul id="8c57b11b-9c28-4bbe-84cf-ca64cde515eb" class="bulleted-list"><li style="list-style-type:disc">We also use <code>final void join() throws InterruptedException</code> which waits until the thread finishes on which it is called upon</li></ul><h2 id="c2f42bfd-6d14-41d5-97f8-169b32b35257" class="">Thread Priorities</h2><ul id="e57d846e-664e-46f9-8e8a-798436cd8def" class="bulleted-list"><li style="list-style-type:disc">We use the <code>final void setPriority(int level);</code> method to set priority for a thread and this level must be between MIN_PRIORITY and MAX_PRIORITY</li></ul><ul id="3e67bb1c-6094-45f0-a36e-bfddc504f730" class="bulleted-list"><li style="list-style-type:disc">We use <code>final int getPriority()</code> to get the priority</li></ul><ul id="64449572-a678-4dbe-875a-924abd7cbe78" class="bulleted-list"><li style="list-style-type:disc">Default priority is 5</li></ul><h2 id="6f511d12-e506-401a-a77f-d81cbab727df" class="">Synchronization</h2><ul id="5907c962-4640-447f-9f6c-7dc44edb6b13" class="bulleted-list"><li style="list-style-type:disc">When we have multiple threads, we need to synchronize them so that only one thread is being run on the resource</li></ul><ul id="39cae360-ae40-4087-b411-276a39305c7b" class="bulleted-list"><li style="list-style-type:disc">The concept of monitor comes into picture. The monitor is an object that is used as a mutually exclusive lock</li></ul><ul id="9401bd4d-f87d-4201-9555-f3b74c2afd7e" class="bulleted-list"><li style="list-style-type:disc">Only one thread can own a monitor at a given time</li></ul><ul id="4a5b03ab-bc3b-41cb-ad96-a069ba3f07b0" class="bulleted-list"><li style="list-style-type:disc">When a thread gets a lock, it is said to have entered the monitor</li></ul><ul id="ecc35be9-aabe-40a7-b690-5956701926f0" class="bulleted-list"><li style="list-style-type:disc">Every object will have its implicit monitor</li></ul><ul id="55eb3291-a0e3-48ab-9b59-8a08ca41fa8b" class="bulleted-list"><li style="list-style-type:disc">All other threads are said to be waiting for the monitor</li></ul><ul id="50f4f3f6-366c-4b8f-819b-345c6eedcb80" class="bulleted-list"><li style="list-style-type:disc">Use the <code>synchronized</code> keyword to prevent a method from being called by 2 or more threads</li></ul><ul id="f50e64bc-6e80-4e80-874b-451c10728d6c" class="bulleted-list"><li style="list-style-type:disc">You can also use synchronized blocks<pre id="c668a6c2-502a-4265-ba55-7fcba59beb76" class="code"><code>class Box {
	void show(){
		System.out.print(&quot;[+++&quot;);
		try {Thread.sleep(1000);}
		catch(InterruptedException ie){}
		System.out.print(&quot;]&quot;);
	}
}

class MyThread extends Thread {
	Box b = new Box();
	
	MyThread(){
		start();
	}
	
	public void run(){
		synchronized(b){
			b.show();
		}
	}
}

class SyncDemo1 {
	public static void main(String args[]){
		MyThread mt1 = new MyThread();
		MyThread mt2 = new MyThread();
		MyThread mt3 = new MyThread();

	}
}</code></pre></li></ul><h2 id="cc4d942e-4a9e-4ade-8efe-754713e958d7" class="">Interthread Communication</h2><ul id="bfe95665-41da-4200-b4c1-70c1b8fc6b70" class="bulleted-list"><li style="list-style-type:disc">In the previous cases, the threads were completely blocked for execution by another thread</li></ul><ul id="95ebec8b-b4b3-4680-b2c8-e14be4e93c5e" class="bulleted-list"><li style="list-style-type:disc">Java avoids polling which is a situation where the thread is waiting for another thread to execute</li></ul><ul id="76fc2a8f-b17e-4851-a826-5537615eb849" class="bulleted-list"><li style="list-style-type:disc">Java includes stuff like wait(), notify(), notfyAll() which are basically final methods and can only be called from a synchronized context.<ul id="5b87ceb9-224b-4d16-b9af-0847dfe84c79" class="bulleted-list"><li style="list-style-type:circle"><code>wait( )</code> tells the calling thread to give up the monitor and go to sleep until
some other thread enters the same monitor and calls <code>notify( )</code> or
<code>notifyAll( )</code>.</li></ul><ul id="2e01c753-7cc4-4bce-a642-63887d665181" class="bulleted-list"><li style="list-style-type:circle"><code>notify( )</code> wakes up a thread that called wait( ) on the same object.</li></ul><ul id="783e065b-0c02-467c-a02e-14c70a1de4cc" class="bulleted-list"><li style="list-style-type:circle"><code>notifyAll( )</code> wakes up all the threads that called wait( ) on the same
object. One of the threads will be granted access.</li></ul><pre id="87064ff7-750d-4980-af3c-87c9d3e6fc83" class="code"><code>// An incorrect implementation of a producer and consumer.
class Q {
    int n;

    synchronized int get() {
        System.out.println(&quot;Got: &quot; + n);
        return n;
    }

    synchronized void put(int n) {
        this.n = n;
        System.out.println(&quot;Put: &quot; + n);
    }
}

class Producer implements Runnable {
    Q q;
    Thread t;

    Producer(Q q) {
        this.q = q;
        t = new Thread(this, &quot;Producer&quot;);
    }

    public void run() {
        int i = 0;
        while (true) {
            q.put(i++);
        }
    }
}

class Consumer implements Runnable {
    Q q;
    Thread t;

    Consumer(Q q) {
        this.q = q;
        t = new Thread(this, &quot;Consumer&quot;);
    }

    public void run() {
        while (true) {
            q.get();
        }
    }
}

class PC {
    public static void main(String args[]) {
        Q q = new Q();
        Producer p = new Producer(q);
        Consumer c = new Consumer(q);
        // Start the threads.
        p.t.start();
        c.t.start();

        System.out.println(&quot;Press Control-C to stop.&quot;);
    }
}</code></pre><pre id="ae53abfe-efd2-40c3-add0-68d3456bbee6" class="code"><code>// An incorrect implementation of a producer and consumer.
class Q {
    int n;
    boolean valueSet = false;

    synchronized int get() {
        while (!valueSet) {
            try {
                wait();
            } catch (InterruptedException e) {

            }
        }
        System.out.println(&quot;Got: &quot; + n);
        valueSet = false;
        notify();
        return n;
    }

    synchronized void put(int n) {
        while (valueSet) {
            try {
                wait();
            } catch (InterruptedException e) {

            }
        }

        this.n = n;
        valueSet = true;
        System.out.println(&quot;Put: &quot; + n);
        notify();
    }
}

class Producer implements Runnable {
    Q q;
    Thread t;

    Producer(Q q) {
        this.q = q;
        t = new Thread(this, &quot;Producer&quot;);
    }

    public void run() {
        int i = 0;
        while (true) {
            q.put(i++);
        }
    }
}

class Consumer implements Runnable {
    Q q;
    Thread t;

    Consumer(Q q) {
        this.q = q;
        t = new Thread(this, &quot;Consumer&quot;);
    }

    public void run() {
        while (true) {
            q.get();
        }
    }
}

class PC {
    public static void main(String args[]) {
        Q q = new Q();
        Producer p = new Producer(q);
        Consumer c = new Consumer(q);
        // Start the threads.
        p.t.start();
        c.t.start();

        System.out.println(&quot;Press Control-C to stop.&quot;);
    }
}</code></pre></li></ul></div></article></body></html>